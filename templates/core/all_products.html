{% extends 'shared/base.html' %}

{% block content %}
<!-- Main Content -->
<main class="px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 py-6 sm:py-8">
    <!-- Header -->
    <section class="py-6 sm:py-8 text-center">
        <p class="text-xs sm:text-sm md:text-base font-light capitalize mt-2 text-gray-900">Upgrade your tech style.
            Explore the latest headphones and smartwatches here.</p>
        <h2 class="text-xl sm:text-2xl md:text-3xl font-bold uppercase mt-3 sm:mt-4 text-gray-900">All Products</h2>
    </section>

    <!-- Filters and Products -->
    <section class="flex flex-col md:flex-row gap-4 sm:gap-6 lg:gap-8">
        <!-- Filter Sidebar -->
        <aside class="w-full md:w-80 bg-white p-4 sm:p-6 rounded-lg shadow-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-sm sm:text-base md:text-lg font-bold uppercase text-gray-900">Filters & Sort</h3>
                <a href="{% url 'all_products_url' %}"
                    class="text-xs sm:text-sm md:text-base font-light capitalize text-gray-900 hover:text-gray-700">Clear
                    All</a>
            </div>
            <div class="space-y-4">
                <!-- Sort By -->
                <div>
                    <form method="get" class="flex gap-5 font-semibold flex-col">

                        {{filter.form.as_p}}
<!-- 
                <div class="flex flex-col gap-2">
                    <h4 class="text-xs sm:text-sm md:text-base font-bold capitalize flex justify-between items-center">
                        Price
                    </h4>

                    <div class="flex flex-col gap-2">
                        <input
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"
                            type="number"  name="" id="price_input">
                        <input type="range" min="{{price_range.min_price}}" max="{{price_range.max_price}}" value="" name="" id="price_range">
                    </div>

                </div> -->
                        <button type="submit"
                            class="text-white  bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2">Apply
                            Filter</button>

                    </form>
                    <!-- <h4 class="text-xs sm:text-sm md:text-base font-bold capitalize flex justify-between items-center">
                        Sort By
                        <img src="images/keyboard_arrow_down-137.svg" alt="arrow" class="h-4 w-4 sm:h-5 sm:w-5">
                    </h4>
                    <hr class="my-2 border-gray-300">
                    <select id="price-btn"
                        class="w-full p-2 border border-gray-300 rounded-lg text-xs sm:text-sm text-gray-800 focus:ring-2 focus:ring-primary-300">
                        <option value="relevance">Relevance</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="newest">Newest First</option>
                    </select> -->
                </div>

                <!-- <h4 class="text-xs sm:text-sm md:text-base font-bold capitalize flex justify-between items-center">
                        Price
                        <img src="images/keyboard_arrow_down-171.svg" alt="arrow" class="h-4 w-4 sm:h-5 sm:w-5">
                    </h4>
                    <hr class="my-2 border-gray-300">
                    <select
                        class="w-full p-2 border border-gray-300 rounded-lg text-xs sm:text-sm text-gray-800 focus:ring-2 focus:ring-primary-300">
                        <option value="all">All Prices</option>
                        <option value="0-50">$0 - $50</option>
                        <option value="50-100">$50 - $100</option>
                        <option value="100-150">$100 - $150</option>
                        <option value="150+">$150+</option>
                    </select> -->
            </div>
            <!-- Features -->
            <!-- <div>
                    <h4 class="text-xs sm:text-sm md:text-base font-bold capitalize flex justify-between items-center">
                        Features
                        <img src="images/keyboard_arrow_down-171.svg" alt="arrow" class="h-4 w-4 sm:h-5 sm:w-5">
                    </h4>
                    <hr class="my-2 border-gray-300">
                    <select
                        class="w-full p-2 border border-gray-300 rounded-lg text-xs sm:text-sm text-gray-800 focus:ring-2 focus:ring-primary-300">
                        <option value="all">All Features</option>
                        <option value="noise-cancelling">Noise Cancelling</option>
                        <option value="water-resistant">Water Resistant</option>
                        <option value="long-battery">Long Battery Life</option>
                        <option value="touch-controls">Touch Controls</option>
                    </select>
                </div> -->
            </div>
        </aside>

        <!-- Product Grid -->
        <div class="flex-1">
            <!-- Category Filters -->
            <div class="flex flex-wrap gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6">
                <button
                    class="px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 border bg-gray-900 text-white border-gray-900 rounded-lg text-xs sm:text-sm md:text-base font-light capitalize hover:bg-gray-800">All</button>
                <button
                    class="px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2  text-gray-900 border  rounded-lg text-xs sm:text-sm md:text-base font-light capitalize hover:bg-gray-100">Smartwatches</button>
                <button
                    class="px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 border border-gray-900 rounded-lg text-xs sm:text-sm md:text-base font-light capitalize text-gray-900 hover:bg-gray-100">True
                    Wireless</button>
                <button
                    class="px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 border border-gray-900 rounded-lg text-xs sm:text-sm md:text-base font-light capitalize text-gray-900 hover:bg-gray-100">Neckbands
                    & Headphones</button>
                <button
                    class="px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 border border-gray-900 rounded-lg text-xs sm:text-sm md:text-base font-light capitalize text-gray-900 hover:bg-gray-100">Wired
                    Headphones</button>
            </div>

            <!-- Products -->
            <section class="bg-gray-50 py-4 sm:py-6 md:py-8 p-2 sm:p-4">
                <div class="mx-auto max-w-screen-xl px-2 sm:px-4 lg:px-6">
                    <div
                        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6">

                        {%for product in pages%}
                        {%if not product.is_deleted%}
                        <!-- Product Card -->
                        <div class="rounded-lg border border-gray-200 bg-gray-100   p-3 sm:p-4 md:p-6 shadow-sm">
                            <div class="h-32 sm:h-48 md:h-56 w-full">
                                {%for image in product.images.all%}
                                {%if image.is_primary%}

                                <a href="#">
                                    <img class="mx-auto h-full object-cover rounded-2xl" src="{{image.image.url}}"
                                        alt="Microsoft Surface Pro">
                                </a>
                                {%endif%}
                                {%empty%}
                                {%endfor%}
                            </div>
                            <div class="pt-3 sm:pt-4 md:pt-6">
                                <div class="mb-3 sm:mb-4 flex items-center justify-between gap-2 sm:gap-4">
                                    <span
                                        class="me-2 rounded bg-primary-100 px-2 py-0.5 text-xs font-medium text-primary-800">Up
                                        to 35% off</span>
                                    <div class="flex items-center gap-1">
                                        <button type="button" data-tooltip-target="tooltip-quick-look-8"
                                            class="rounded-lg p-1 sm:p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900">
                                            <span class="sr-only">Quick look</span>
                                            <svg class="h-4 sm:h-5 w-4 sm:w-5" aria-hidden="true"
                                                xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                                viewBox="0 0 24 24">
                                                <path stroke="currentColor" stroke-width="2"
                                                    d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z">
                                                </path>
                                                <path stroke="currentColor" stroke-width="2"
                                                    d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path>
                                            </svg>
                                        </button>
                                        <div id="tooltip-quick-look-8" role="tooltip"
                                            class="tooltip invisible absolute z-10 inline-block rounded-lg bg-gray-900 px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300">
                                            Quick look
                                            <div class="tooltip-arrow" data-popper-arrow=""></div>
                                        </div>
                                        <button type="button" data-tooltip-target="tooltip-add-to-favorites-8"
                                            class="rounded-lg p-1 sm:p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900">
                                            <span class="sr-only">Add to Favorites</span>
                                            <svg class="h-4 sm:h-5 w-4 sm:w-5" aria-hidden="true"
                                                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                                <path stroke="currentColor" stroke-linecap="round"
                                                    stroke-linejoin="round" stroke-width="2"
                                                    d="M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z"></path>
                                            </svg>
                                        </button>
                                        <div id="tooltip-add-to-favorites-8" role="tooltip"
                                            class="tooltip invisible absolute z-10 inline-block rounded-lg bg-gray-900 px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300">
                                            Add to favorites
                                            <div class="tooltip-arrow" data-popper-arrow=""></div>
                                        </div>
                                    </div>
                                </div>
                                <a href="#"
                                    class="text-sm sm:text-base md:text-lg font-semibold leading-tight text-gray-900 hover:underline line-clamp-2">{{product.name}}</a>
                                <p class="text-sm text-gray-500">{{product.category}}</p>
                                <p>Colors Available:</p>
                                <div class="flex justify-start gap-2 items-center">
                                    {%for color in product.colors.all%}
                                    <!-- <h5 class="text-sm tracking-tight text-slate-900">{{ color.name }}</h5> -->
                                    <div class="h-5 w-5 rounded-xl border-1 border-solid border-black"
                                        style="background-color: {{color.color}};">

                                    </div>
                                    {%endfor%}
                                </div>
                                <div class="mt-2 flex items-center gap-2">
                                    <div class="flex items-center">
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-yellow-400" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z">
                                            </path>
                                        </svg>
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-yellow-400" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z">
                                            </path>
                                        </svg>
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-yellow-400" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z">
                                            </path>
                                        </svg>
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-yellow-400" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z">
                                            </path>
                                        </svg>
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-yellow-400" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z">
                                            </path>
                                        </svg>
                                    </div>
                                    <p class="text-xs sm:text-sm font-medium text-gray-900">4.9</p>
                                    <p class="text-xs sm:text-sm font-medium text-gray-500">(4,775)</p>
                                </div>
                                <ul class="mt-2 flex items-center gap-2 sm:gap-4 flex-wrap">
                                    <li class="flex items-center gap-1 sm:gap-2">
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-gray-500" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z">
                                            </path>
                                        </svg>
                                        <p class="text-xs sm:text-sm font-medium text-gray-500">Fast Delivery</p>
                                    </li>
                                    <li class="flex items-center gap-1 sm:gap-2">
                                        <svg class="h-3 sm:h-4 w-3 sm:w-4 text-gray-500" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
                                                d="M8 7V6c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1h-1M3 18v-7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1Zm8-3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z">
                                            </path>
                                        </svg>
                                        <p class="text-xs sm:text-sm font-medium text-gray-500">Best Price</p>
                                    </li>
                                </ul>

                                <div class="mt-3 sm:mt-4 flex items-center justify-between gap-2 sm:gap-4">
                                    {%if product.stock_qty%}
                                    <div class="flex flex-wrap justify-between w-full items-center">
                                        <p class="text-lg font-extrabold leading-tight text-gray-900">
                                            ${{product.price}}</p>
                                        <button type="button"
                                            class="inline-flex  bg-black items-center rounded-lg bg-primary-700 px-2 sm:px-3 md:px-5 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-white hover:bg-primary-800 focus:outline-none focus:ring-4 focus:ring-primary-300">
                                            <svg class="-ms-1 sm:-ms-2 me-1 sm:me-2 h-4 sm:h-5 w-4 sm:w-5"
                                                aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
                                                height="24" fill="none" viewBox="0 0 24 24">
                                                <path stroke="currentColor" stroke-linecap="round"
                                                    stroke-linejoin="round" stroke-width="2"
                                                    d="M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6">
                                                </path>
                                            </svg>
                                            Add to cart
                                        </button>
                                    </div>

                                    {%else%}
                                    <div class="flex flex-wrap w-full    justify-between items-center ">
                                        <p class="text-lg font-extrabold leading-tight text-gray-900">
                                            ${{product.price}}</p>
                                        <button type="button"
                                            class="inline-flex gap-2  bg-yellow-400 items-center rounded-lg bg-primary-700 px-2 sm:px-3 md:px-5 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-white hover:bg-primary-800 focus:outline-none focus:ring-4 focus:ring-primary-300">
                                            <svg width="20px" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                    stroke-linejoin="round"></g>
                                                <g id="SVGRepo_iconCarrier">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M18.7071 4.69719C19.0976 4.30667 19.7308 4.30667 20.1213 4.69719L28.6066 13.1825C28.9971 13.573 28.9971 14.2062 28.6066 14.5967C28.216 14.9872 27.5829 14.9872 27.1924 14.5967L18.7071 6.1114C18.3166 5.72088 18.3166 5.08771 18.7071 4.69719Z"
                                                        fill="#ffffff"></path>
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M28.7071 4.7068C29.0976 5.09733 29.0976 5.73049 28.7071 6.12102L20.2218 14.6063C19.8313 14.9968 19.1981 14.9968 18.8076 14.6063C18.4171 14.2158 18.4171 13.5826 18.8076 13.1921L27.2929 4.7068C27.6834 4.31628 28.3166 4.31628 28.7071 4.7068Z"
                                                        fill="#ffffff"></path>
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M24.3162 15.0513C24.111 14.9829 23.8891 14.9829 23.6838 15.0513L8.86851 19.9889C8.64603 20.063 8.463 20.2102 8.34247 20.3985L4.39805 25.4613C4.1985 25.7175 4.13573 26.0545 4.2297 26.3653C4.32367 26.6761 4.56269 26.922 4.87072 27.0246L8.19325 28.1319L8.19595 36.7634C8.19636 38.0544 9.02257 39.2003 10.2473 39.6085L23.6291 44.0691C23.7475 44.1164 23.8738 44.1406 24.0009 44.1405C24.1293 44.141 24.2569 44.1168 24.3765 44.069L37.7577 39.6086C38.9827 39.2003 39.8089 38.054 39.809 36.7628L39.8096 28.1328L43.1346 27.0246C43.4427 26.922 43.6817 26.6761 43.7757 26.3653C43.8696 26.0545 43.8069 25.7175 43.6073 25.4613L39.6117 20.3327C39.4927 20.176 39.3274 20.0542 39.1315 19.9889L24.3162 15.0513ZM9.54341 22.1112L22.346 26.378L19.6478 29.8413L6.8452 25.5745L9.54341 22.1112ZM24.0025 24.8203L35.6526 20.9376L24 17.0541L12.35 20.9367L24.0025 24.8203ZM10.196 36.7628L10.1935 28.7986L19.686 31.9622C20.088 32.0962 20.5307 31.9623 20.7911 31.6281L23.0003 28.7924L23.0001 41.7513L10.8797 37.7112C10.4715 37.5751 10.1961 37.1931 10.196 36.7628ZM37.8095 28.7993L28.3193 31.9622C27.9174 32.0962 27.4747 31.9623 27.2143 31.6281L25.0013 28.7876L25.0049 41.7514L37.1252 37.7113C37.5336 37.5752 37.809 37.1931 37.809 36.7627L37.8095 28.7993ZM28.3576 29.8413L25.6583 26.3767L38.4609 22.1099L41.1602 25.5745L28.3576 29.8413Z"
                                                        fill="#ffffff"></path>
                                                </g>
                                            </svg>
                                            Out Of Stock
                                        </button>

                                    </div>

                                    {%endif%}

                                </div>

                            </div>
                        </div>
                        <!-- Product card end -->

                        {%endif%}

                        {%endfor%}
                    </div>
                    <!-- Show More Button -->
                    <div class="w-full text-center mt-4 sm:mt-6">
                        <button type="button"
                            class="rounded-lg border bg-gray-900 px-4 sm:px-5 py-2 text-xs sm:text-sm font-medium text-white hover:bg-gray-700">Show
                            more</button>
                    </div>
                </div>

                <!-- Pagination -->
                
            <div class="flex items-center space-x-2 mt-2 justify-center text-2xl font-bold text-black">
               
                {% if pages.has_previous %}
                <a href="?page=1{% if request.GET.per_page %}&per_page={{ request.GET.per_page }}{% endif %}& {{request.GET.urlencode}}"
                class="px-3 py-1 border rounded-md hover:bg-gray-100 text-sm">First</a>
                <a href="?page={{ pages.previous_page_number }}& {{request.GET.urlencode}}{% if request.GET.per_page %}&per_page={{ request.GET.per_page }}{% endif %}"
                class="px-3 py-1 border rounded-md hover:bg-gray-100 text-sm">Previous</a>
                {% endif %}
                <span class="px-3 py-1 text-sm">Page {{ pages.number }} of {{ pages.paginator.num_pages }}</span>
                {% if pages.has_next %}
                <a href="?page={{ pages.next_page_number }}{% if request.GET.per_page %}&per_page={{ request.GET.per_page }}{% endif %} & {{request.GET.urlencode}}"
                    class="px-3 py-1 border rounded-md hover:bg-gray-100 text-sm">Next</a>
                <a href="?page={{ pages.paginator.num_pages }}{% if request.GET.per_page %}&per_page={{ request.GET.per_page }}{% endif %}& {{request.GET.urlencode}}"
                    class="px-3 py-1 border rounded-md hover:bg-gray-100 text-sm">Last</a>
                {% endif %}
            </div>
            </section>

        </div>
    </section>
</main>


{% endblock %}